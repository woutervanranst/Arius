@page "/edit-backup-configuration/{id:int}"
@using Arius.Web.Application
@using Arius.Web.Core
@inject BackupConfigurationService BackupConfigurationService
@inject NavigationManager          Navigation

<h3>Edit Backup Configuration</h3>

<EditForm Model="backupConfiguration" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="path">Path</label>
        <InputText id="path" class="form-control" @bind-Value="backupConfiguration.Path" />
    </div>
    <!-- Include all fields as in the creation form -->

    <button type="submit" class="btn btn-primary">Save</button>
</EditForm>

@code {
    private BackupConfiguration backupConfiguration = new BackupConfiguration();

    [Parameter] 
    public int Id { get; set; }

    protected override async Task OnInitializedAsync()
    {
        backupConfiguration = await BackupConfigurationService.GetBackupConfigurationAsync(Id);
    }

    private async Task HandleValidSubmit()
    {
        await BackupConfigurationService.UpdateBackupConfigurationAsync(backupConfiguration);
        Navigation.NavigateTo("/backup-configurations");
    }
}